<h2 class="page-header">Users Management</h2>

<!--<div class="panel">
<button type="button" class="btn btn-block" data-toggle="collapse" data-target="#addNewCustomer"><span class="glyphicon glyphicon-plus"></span>Add new customers</button>
<div id="addNewCustomer" class="collapse">
<form class="well" (submit)="addCustomer()">
  <div class="form-group">
    <label>Username</label>
    <input type="text" [(ngModel)]="username" name="username" class="form-control">
  </div>
  <div class="form-group">
    <label>First Name</label>
    <input type="text" [(ngModel)]="firstName" name="firstName" class="form-control">
  </div>
  <div class="form-group">
    <label>Last Name</label>
    <input type="text" [(ngModel)]="lastName" name="lastName" class="form-control">
  </div>  
    <div class="form-group">
    <label>Business Name</label>
    <input type="text" [(ngModel)]="businessName" name="businessName" class="form-control">
  </div>  
    <div class="form-group">
    <label>Password</label>
    <input type="password" [(ngModel)]="passWord" name="passWord" class="form-control">
  </div>  
    <div class="form-group">
    <label>Email</label>
    <input type="text" [(ngModel)]="email" name="email" class="form-control">
  </div>
  <input type="submit" class="btn btn-primary" value="Add Customer">
</form>
</div>
</div>

<div class="user-list">
    <table class="table" >
        <thead>
          <tr>
          <th>Username</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Business Name</th>
          <th>Email</th>          
          
          </tr>
        </thead>
    <tbody>
   
    <tr *ngFor="let customer of customers">
        
            <td>{{customer.uname}}</td>
            <td>{{customer.fName}}</td>
            <td>{{customer.lName}}</td>
            <td>{{customer.bName}}</td>
            <td>{{customer.email}}</td>
            <td><input type="button"  (click)="deleteCustomer(customer._id)" value="Delete" class="btn btn-danger btn-xs"></td>   
      </tr>
    
         </tbody>
  </table>
    
</div>-->

<p-dataTable [value]="users" selectionMode="single" [(selection)]="selectedUser" (onRowSelect)="onRowSelect($event)"  [paginator]="true" rows="15" [responsive]="true">
    <p-header>Customers List</p-header>
    <p-column field="fName" header="FIRSE_NAME" [sortable]="true"></p-column>
    <p-column field="lName" header="LAST_NAME" [sortable]="true"></p-column>
    <p-column field="username" header="USERNAME" [sortable]="true"></p-column>
    <p-column field="bName" header="BUSINESS_NAME" [sortable]="true"></p-column>
    <p-column field="email" header="EMAIL" [sortable]="true"></p-column>
    <!--<p-column field="" header="Quantity" [sortable]="true"></p-column>-->
    <p-footer><div class="ui-helper-clearfix" style="width:100%"><button type="button" pButton icon="fa-plus" style="float:left" (click)="showDialogToAdd()" label="Add"></button></div></p-footer>
</p-dataTable>

<p-dialog header="Customer Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true">
    <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="user">
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="fName">First Name</label></div>
            <div class="ui-grid-col-8"><input pInputText id="fName" [(ngModel)]="user.fName" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="lName">Last Name</label></div>
            <div class="ui-grid-col-8"><input pInputText id="lName" [(ngModel)]="user.lName" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="username">Username</label></div>
            <div class="ui-grid-col-8"><input pInputText id="username" [(ngModel)]="user.username" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="password">Password</label></div>
            <div class="ui-grid-col-8"><input pInputText id="password" [(ngModel)]="user.password" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="bName">Business Name</label></div>
            <div class="ui-grid-col-8"><input pInputText id="bName" [(ngModel)]="user.bName" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="email">Email</label></div>
            <div class="ui-grid-col-8"><input pInputText id="email" [(ngModel)]="user.email" /></div>
        </div>
        <!--<div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="inStock">QUANTITY</label></div>
            <div class="ui-grid-col-8"><input pInputText id="inStock" [(ngModel)]="product.inStock" /></div>
        </div>-->
    </div>
    <p-footer>
        <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
            <button type="button" pButton icon="fa-close" (click)="deleteUser(user._id)" label="Delete"></button>
            <button type="button" pButton icon="fa-check" (click)="save()" label="Save"></button>
        </div>
    </p-footer>
</p-dialog>